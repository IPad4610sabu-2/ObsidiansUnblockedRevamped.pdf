const CACHE_NAME_ASSETS = 'offline-assets';
const assetsToCache = [
  '/index.html',
  '/main.css',
  'assets/1v1lol.avif',
  'assets/2048.png',
  'assets/20bitmusicgenerator.jfif',
  'assets/adjustablefireworks.jpg',
  'assets/adofai.png',
  'assets/agario.jpg',
  'assets/alienhominid.jfif',
  'assets/amongus.webp',
  'assets/angrybirds.webp',
  'assets/aquaslides.png',
  'assets/astar.png',
  'assets/back-arrow.png',
  'assets/baldisbasics.webp',
  'assets/basketballstars.avif',
  'assets/beepbox.avif',
  'assets/bitlife.jpg',
  'assets/bloonstowerdefense.jpg',
  'assets/bloxorz.jfif',
  'assets/bobtherobber2.webp',
  'assets/bomberman.jpg',
  'assets/brickbreaker.webp',
  'assets/btd2.webp',
  'assets/btd3.jfif',
  'assets/btd4.webp',
  'assets/castlevania.jpg',
  'assets/castlevania3.png',
  'assets/castlevaniaariaofsorrow.jfif',
  'assets/castlevaniadawnofsorrow.jpg',
  'assets/castlevaniaorderofecclesia.jpg',
  'assets/chromeDino.png',
  'assets/chromedinogame.avif',
  'assets/colorswitch.webp',
  'assets/connectthepipes.jpg',
  'assets/controls.png',
  'assets/cookieclicker.jpg',
  'assets/crossyroad.avif',
  'assets/defendthetank.jfif',
  'assets/diggy.avif',
  'assets/discord-favicon-white-outline.png',
  'assets/dogeminer.avif',
  'assets/donkeykong.webp',
  'assets/donkeykongland.png',
  'assets/doodlejump.jpg',
  'assets/doom.jpg',
  'assets/doom64.jpg',
  'assets/driftboss.jfif',
  'assets/drifthunters.png',
  'assets/drmario.jpg',
  'assets/ducklife.webp',
  'assets/ducklife2.jfif',
  'assets/ducklife3.png',
  'assets/ducklife4.png',
  'assets/eaglercraft.jpg',
  'assets/eaglercraftold.jpg',
  'assets/edgesurf.jpg',
  'assets/emulatorjs.jpeg',
  'assets/escapingtheprison.jfif',
  'assets/fancypantsadventure.png',
  'assets/fancypantsadventure2.avif',
  'assets/fancypantsadventure3.avif',
  'assets/fireemblem.jpg',
  'assets/flappybird.png',
  'assets/fleeingthecomplex.jpg',
  'assets/fnaf.webp',
  'assets/fnaf2.webp',
  'assets/fnaf3.jpg',
  'assets/fnaf4.webp',
  'assets/fnafsl.avif',
  'assets/fnf.png',
  'assets/fruitninja.avif',
  'assets/fullscreen.png',
  'assets/getawayshootout.webp',
  'assets/gmail-favicon-white-outline.png',
  'assets/googlequickdraw.png',
  'assets/gunmayhem.avif',
  'assets/gunmayhem2.png',
  'assets/gunmayhemredux.webp',
  'assets/happywheels.png',
  'assets/iceclimber.webp',
  'assets/infiltratingtheairship.png',
  'assets/jetpackjoyride.webp',
  'assets/killinternetexplorer.webp',
  'assets/kirbysdreamland.png',
  'assets/kirbysdreamland2.png',
  'assets/learntofly.avif',
  'assets/learntofly2.jpg',
  'assets/learntofly3.jpg',
  'assets/legostarwarsgba.jpg',
  'assets/mariokartsupercircuit.jpg',
  'assets/maze.jpg',
  'assets/metroid.webp',
  'assets/minecraft1.5.2',
  'assets/minesweeper.jfif',
  'assets/motox3m.png',
  'assets/motox3m2.jpg',
  'assets/motox3m3.jfif',
  'assets/newsupermariobros.webp',
  'assets/nyancatlostinspace.avif',
  'assets/obsidians-unblocked-favicon-black.png',
  'assets/obsidians-unblocked-favicon-white.png',
  'assets/obsidians-unblocked-high-resolution-logo-transparent.png',
  'assets/pacman.jfif',
  'assets/papasbakeria.jpg',
  'assets/papasburgeria.jfif',
  'assets/papascheeseria.jfif',
  'assets/papascupcakeria.jpg',
  'assets/papasdonuteria.jfif',
  'assets/papasfreezeria.webp',
  'assets/papashotdoggeria.jfif',
  'assets/papaspancakeria.webp',
  'assets/papaspastaria.jfif',
  'assets/papaspizzaria.png',
  'assets/papasscooperia.jpg',
  'assets/papassushiria.jfif',
  'assets/papastacomia.png',
  'assets/papaswingeria.jfif',
  'assets/paperio2.jfif',
  'assets/particle-colored.png',
  'assets/particle.png',
  'assets/physicsengine.png',
  'assets/picosschool.png',
  'assets/placeholder.mp4',
  'assets/placeholder.png',
  'assets/pokemonblue.jpg',
  'assets/pokemondiamond.jfif',
  'assets/pokemonemerald.jfif',
  'assets/pokemonfirered.jfif',
  'assets/pokemonleafgreen.jpg',
  'assets/pokemonplatinum.png',
  'assets/pokemonred.jfif',
  'assets/pokemonruby.jfif',
  'assets/pokemonsapphire.jpg',
  'assets/pokemonsnap.webp',
  'assets/pokemonsoulsilver.jpg',
  'assets/pokemonstadium.webp',
  'assets/pokemonunbound.png',
  'assets/pokemonyellow.png',
  'assets/pong.png',
  'assets/popthelock.png',
  'assets/portalflash.png',
  'assets/precisionclient.svg',
  'assets/proxyplaceholder.jpg',
  'assets/ps2.jpg',
  'assets/purple-super-nova.jpg',
  'assets/raftwars.jpg',
  'assets/raftwars2.webp',
  'assets/retroarch.png',
  'assets/retrobowl.jpg',
  'assets/riddleschool.webp',
  'assets/riddleschool2.webp',
  'assets/riddleschool3.webp',
  'assets/riddleschool4.webp',
  'assets/riddleschool5.webp',
  'assets/riddletransfer.webp',
  'assets/riddletransfer2.webp',
  'assets/rooftopsnipers.avif',
  'assets/ruffle.png',
  'assets/run.avif',
  'assets/run2.jpg',
  'assets/run3.jpg',
  'assets/scratch.png',
  'assets/search-icon.png',
  'assets/seededmusicgenerator.jpg',
  'assets/share.png',
  'assets/slope.png',
  'assets/sm64.webp',
  'assets/snake.jpg',
  'assets/snowballio.jpg',
  'assets/solitaire.jfif',
  'assets/stealingthediamond.jpg',
  'assets/stickmanhook.jpg',
  'assets/subwaysurfers.webp',
  'assets/superhot.png',
  'assets/supermariobros.webp',
  'assets/supermariobros2.webp',
  'assets/supermariobros3.jfif',
  'assets/supermariods.webp',
  'assets/supermariokart.jpg',
  'assets/supermarioland.png',
  'assets/supermarioland2.jpg',
  'assets/supermarioworld.webp',
  'assets/supermeatboy.jpg',
  'assets/supersmashbros.jpg',
  'assets/supersmashflash.png',
  'assets/superstarsaga.jpg',
  'assets/tanukisunset.jfif',
  'assets/tetris.webp',
  'assets/thebindingofisaac.jpg',
  'assets/theimpossiblequiz.jfif',
  'assets/theimpossiblequiz2.png',
  'assets/thelegendofzelda.webp',
  'assets/themehotel.png',
  'assets/thereisnogame.jpg',
  'assets/theworldshardestgame.png',
  'assets/theworldshardestgame2.jpg',
  'assets/theworldshardestgame3.png',
  'assets/tictactoe.avif',
  'assets/tiktok-favicon-white-outline.png',
  'assets/tonyhawkproskater2.jpg',
  'assets/towerdefense.png',
  'assets/townscaper.avif',
  'assets/tunnelrush.webp',
  'assets/ucn.jpg',
  'assets/vex.png',
  'assets/vex2.webp',
  'assets/vex3.png',
  'assets/vex4.png',
  'assets/vex5.webp',
  'assets/vex6.jpg',
  'assets/vex7.jpg',
  'assets/warioware.jpg',
  'assets/webecomewhatwebehold.png',
  'assets/webretro.png',
  'assets/win98.jpg',
  'assets/wolfenstein3d.jpg',
  'assets/wutiwant.mp3',
  'assets/x-icon.png',
  'assets/yoshisisland.webp',
  'assets/youtube.jpg',
  
];

const CACHE_NAME_GAMES = 'offline-games';
const gamesToCache = [
    'games/eaglercraft/eaglercraft.1.5.2.html',
    'games/eaglercraftmulti/eaglercraft.1.8.8.html',
];

// Install event
self.addEventListener('install', event => {
    event.waitUntil(
      Promise.all([
        // Cache assets
        caches.open(CACHE_NAME_ASSETS)
          .then(cache => {
            console.log('Opened assets cache');
            return cache.addAll(assetsToCache);
          }),
        // Cache games
        caches.open(CACHE_NAME_GAMES)
          .then(cache => {
            console.log('Opened games cache');
            return cache.addAll(gamesToCache);
          })
      ])
    );
  });
  
  // Fetch event
  self.addEventListener('fetch', event => {
    event.respondWith(
      caches.match(event.request)
        .then(response => {
          if (response) {
            return response;  // Return cached asset
          }
          return fetch(event.request);  // Fetch from network
        })
    );
  });
